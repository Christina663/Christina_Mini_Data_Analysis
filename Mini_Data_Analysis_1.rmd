---
title: "Milestone 1"
author: "Christina"
date: "10/5/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
```{r load library}
library(datateachr)
library(tidyverse)
```


## Task 1: Choose your favorite dataset (10 points)

**1.1 Choose 4 datasets:**

1: cancer_sample
2: apt_buildings 
3: steam_games
4: vancouver_trees

**1.2 Explore the datasets:**

1. cancer_sample:
```{r cancer}
# All numerical except for "diagnosis"
# Special tibble data frame
head(cancer_sample)
class(cancer_sample)
dim(cancer_sample)
```
```{r apt_buildings}
# Mostly categorical and binary
head(apt_buildings) 
class(apt_buildings)
dim(apt_buildings)
```
```{r steam_games}
# Special tibble data frame
head(steam_games) 
class(steam_games)
dim(steam_games)
```
```{r vancouver_trees}
# Categorical,binary and numerical
head(vancouver_trees) 
class(vancouver_trees)
dim(vancouver_trees)
```

**1.3 Narrow down to 2 datasets:**
After observing the datasets, we narrowed down to these two:
1: apt_buildings
2: vancouver_trees

The logistics behind taking out the other two datasets are as follows: 
First, the datasets "cancer_sample" and "steam_games" are both of the class type ("spec_tbl_df"). In the dataset "steam_games" we observed special data columns such as *complicated sentences* and *URLs*, which will possibly make data analysis more challenging and thus not what we want.
Second, the dataset "cancer_sample" contains almost only numerical data. However, data of multiple types will be more valuable for us to practice data wrangling, such as the data of categorical, binary and numerical types in "vancouver_trees".

**1.4 Final decision on dataset of interest**
We have chosen the dataset "vancouver_trees" to investigate. We are interested for two reasons: 
1. As mentioned, this dataset has various data types of categorical, binary and numerical, which will make our practice of data wrangling more thorough.
2. I am interested in potentially investigate the spread of tree species among different regions and roads of Vancouver, and possibly form a comprehensive graph. Another possible direction is the relationship between heights, diameters and date planted of individual trees and how trees are spread within different regions.

## Task 2: Exploring your dataset (15 points)

**Exercise 1: Plot Density of Diameter**
```{r Plot Density}
# Plot the density of diameter and distinguish by curb
ggplot(vancouver_trees, aes(x = diameter)) + geom_density(aes(fill = curb),alpha = 0.3)
max(select(vancouver_trees,diameter))
# We discovered that very few trees are of large diameters, so we can take them off to make the density plot more visible
large_diameter_removed <- filter(vancouver_trees, diameter < 70)
ggplot(large_diameter_removed, aes(x = diameter)) + geom_density(aes(fill = curb),alpha = 0.3)
# We observed that the distribution of tree diameters are centralized around 5, and the distribution are very similar for both on curb or not on curb.
```

**Exercise 2:Plot Distribution of "Date_planted"**

```{r Plot Distribution}
# arrange(vancouver_trees, date_planted)
ggplot(vancouver_trees, aes(date_planted)) + geom_histogram(bins = 30)
```

**Exercise 3: Plot Variable Relationship between "Diameter", "Neighbourhood_name" and "Date_planted"**
```{r Plot Variable Relationship}
ggplot(vancouver_trees, aes(neighbourhood_name, date_planted)) + geom_point(size = 3,alpha = 0.3)
ggplot(vancouver_trees, aes(neighbourhood_name, diameter)) + geom_point(size = 3,alpha = 0.3)
ggplot(vancouver_trees, aes(date_planted, diameter)) + geom_point(size = 3,alpha = 0.3)
```

**Exercise 4: Make a new variable "size"**
```{r New Variable}
# We want to investigate how many trees were planted in each neighborhood 
# group_by(vancouver_trees, neighbourhood_name)
# summarise(vancouver_trees, trees_per_neighbourhood = )

# Make a new variable of Size
Addsize <- mutate(vancouver_trees, size = height_range_id * diameter)
range(select(Addsize, size))
ggplot(Addsize, aes(size)) + geom_histogram(bins = 30)
```